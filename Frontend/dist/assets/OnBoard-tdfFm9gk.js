import{e as p,b as o,j as e,V as i,h as v}from"./index-BSR7YrIA.js";import{u as L}from"./useMutation-CIE9l-8x.js";import{a as g}from"./index-Oo9cbPjc.js";import{i as y,o as S}from"./Api-9Y_Rk4KA.js";import{CardLoader as F}from"./Loader-BR6Ae3rj.js";import"./iconBase-D6RCgo7V.js";function E(){const d=p(),m=JSON.parse(localStorage.getItem("user")),[l,h]=o.useState(null),[r,c]=o.useState(!1),[t,u]=o.useState({profilePic:"",fullName:m?.fullName,bio:"",nativeLanguage:"",learningLanguage:"",location:""});function n(a){u(s=>({...s,[a.target.name]:a.target.value}))}const{mutate:x,isPending:b}=L({mutationFn:S,onSuccess:a=>{i.success(a.message||"User on boaring Succesfull"),setTimeout(()=>d("/"),2e3)},onError:a=>{i.error(a.response?.data?.message||"Onboarding failed")},retry:!1});function f(){c(!0);const a=v(),s=y(a);return setTimeout(()=>{h(s),c(!1),i.success("Image Generate successfully"),u(j=>({...j,profilePic:s}))},500),s}function N(a){a.preventDefault(),x(t)}return e.jsx("div",{className:"vh-100 d-flex justify-content-center align-items-center",children:e.jsx("div",{className:"row w-100 justify-content-center",children:e.jsx("div",{className:"col-lg-6 col-md-8 col-sm-10",children:e.jsxs("form",{className:"p-4 border rounded bg-primary shadow",onSubmit:N,children:[e.jsx("h4",{className:"display-5 text-light",children:"On Boarding"}),e.jsxs("div",{className:"text-center",children:[!l&&e.jsx(g,{size:10,color:"white",className:"on-boarding"}),l&&!r&&e.jsx("img",{src:l??g,alt:"pic",className:"on-boarding"}),e.jsx("br",{}),r&&e.jsx(F,{}),e.jsx("button",{type:"button",className:"mt-2 btn btn-light btn-sm",onClick:f,children:r?"Generating...":"Generate Image"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"fullName",className:"form-label text-light",children:"Full Name"}),e.jsx("input",{type:"text",className:"form-control",name:"fullName",value:m?.fullName,disabled:!0,style:{cursor:"not-allowed"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"bio",className:"form-label text-light",children:"Bio"}),e.jsx("input",{type:"text",className:"form-control",name:"bio",value:t.bio,onChange:n})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"nativeLanguage",className:"form-label text-light",children:"Native Language"}),e.jsx("input",{type:"text",className:"form-control",name:"nativeLanguage",value:t.nativeLanguage,onChange:n})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"learningLanguage",className:"form-label text-light",children:"Learning Language"}),e.jsx("input",{type:"text",className:"form-control",name:"learningLanguage",value:t.learningLanguage,onChange:n})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"location",className:"form-label text-light",children:"Location"}),e.jsx("input",{type:"text",className:"form-control",name:"location",value:t.location,onChange:n})]}),e.jsx("div",{className:"mb-3",children:e.jsx("button",{className:"btn btn-light",children:b?"OnBoarding...":"Submit"})})]})})})})}export{E as default};
