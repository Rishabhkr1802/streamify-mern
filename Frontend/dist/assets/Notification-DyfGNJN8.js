import{j as e,f as i,q as c}from"./index-BSR7YrIA.js";import{W as l}from"./Wrapper-Cm4OHuQf.js";import{u as o}from"./useQuery-Bls-ed2C.js";import{u}from"./useMutation-CIE9l-8x.js";import m from"./Loader-BR6Ae3rj.js";import{h as g,f as p}from"./Api-9Y_Rk4KA.js";function f({onAcceptRequest:n,...r}){const s=r;return e.jsxs("section",{className:"border card-rounded p-3 shadow bg-light",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("img",{src:s?.sender?.profilePic,alt:"Profile",width:50,height:50,style:{borderRadius:"50%"}}),e.jsx("div",{className:"card-header p-0 border-0 bg-white",children:s?.sender?.fullName})]}),s.status==="pending"&&e.jsx("button",{className:"btn btn-primary mt-2",onClick:()=>n(s._id),children:"Accept Request"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between gap-2",children:[e.jsxs("p",{className:"card-text mb-0 mt-2",children:[e.jsx("strong",{children:"Native Language: -"}),s?.sender?.nativeLanguage]}),e.jsxs("p",{className:"card-text mb-0 mt-2",children:[e.jsx("strong",{children:"Learning Language: -"}),s?.sender?.learningLanguage]})]})})]},s._id)}function R(){const{data:n=[],isPending:r,isError:s}=o({queryKey:["friendRequest"],queryFn:p}),{mutate:a=[]}=u({mutationFn:g,onSuccess:()=>{i.success("Friend Request Accepted!!!"),c.invalidateQueries({queryKey:["friendRequest"]})},onError:()=>i.error("Something went wrong!!!")});function d(t){a(t)}return e.jsx(l,{pageTitle:"Notifications",children:e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsxs("h5",{className:"display-6 m-0",children:["List of Friend Requests ",n.length>0&&e.jsx("span",{className:"badge badge-pill badge-danger bg-danger p-1",children:n.length})]}),r&&e.jsx(m,{}),s&&e.jsx("div",{children:"Something went wrong."}),(!n||n.length===0)&&"Friend Request not found",e.jsx("div",{className:"d-flex gap-3 flex-column",children:n.map(t=>e.jsx(f,{onAcceptRequest:d,...t},t?.sender?._id))})]})})}export{R as default};
